---
// src/components/Navbar.astro
---

<header class="navbar">
  <div class="navbar-container container">
    <div class="navbar-brand">
      <a href="/" data-text="BLKKK">BLKKK</a>
    </div>
    <nav class="navbar-nav">
      <ul>
        <li><a href="/opium">OPIUM</a></li>
        <li><a href="/accessories">ACCESSORIES</a></li>
        <li><a href="/perfumes">PERFUMES</a></li>
      </ul>
    </nav>
    <div class="navbar-cart">
      <a href="/cart" aria-label="Shopping Cart">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-shopping-cart">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
          <path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
          <path d="M17 17h-11v-14h-2" />
          <path d="M6 5l14 1l-1 7h-13" />
        </svg>
      </a>
    </div>
  </div>
</header>

<style>
  .navbar {
    width: 100%;
    position: sticky;
    top: 0;
    z-index: 1000;
    padding: 1.5rem 0;
    background-color: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }

  .navbar-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* ==> VAMPIRE: Gothic Brand Logo <== */
  .navbar-brand a {
    position: relative;
    font-family: var(--font-display);
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--text-main);
    text-decoration: none;
    letter-spacing: 5px;
    text-transform: uppercase;
    text-shadow: 0 0 10px rgba(255, 0, 0, 0.6);
  }

  /* Adds a flickering cross symbol, a key Carti motif */
  .navbar-brand a::after {
    content: 'â€ '; /* Dagger/cross symbol */
    position: absolute;
    top: -5px;
    right: -25px;
    font-size: 1.5rem;
    color: var(--accent-primary);
    animation: flicker-cross 3s infinite;
  }
  
  .navbar-brand a:hover {
    color: var(--accent-primary);
    animation: intense-shake 0.4s linear infinite alternate;
  }

  /* ==> VAMPIRE: "Blood Drip" Nav Links <== */
  .navbar-nav ul {
    list-style: none;
    display: flex;
    gap: 2.5rem;
    margin: 0;
  }

  .navbar-nav a {
    position: relative;
    font-family: var(--font-mono);
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 2px;
    text-decoration: none;
    padding: 0.5rem;
    z-index: 1;
    transition: color 0.4s cubic-bezier(0.76, 0, 0.24, 1);
  }
  
  /* The "blood" pseudo-element that fills from the top */
  .navbar-nav a::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--accent-primary);
    transform: scaleY(0);
    transform-origin: top;
    z-index: -1;
    transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1);
  }

  .navbar-nav a:hover {
    color: var(--color-black); /* Text becomes black against the red */
  }

  .navbar-nav a:hover::before {
    transform: scaleY(1); /* "Fills" the container on hover */
  }
  
  /* ==> VAMPIRE: Blood-Filled Cart Icon <== */
  .navbar-cart svg {
    color: var(--text-muted);
    fill: transparent;
    transition: all 0.2s ease;
  }

  .navbar-cart a:hover svg {
    color: var(--accent-primary);
    fill: var(--accent-primary); /* Fills the cart with "blood" */
    filter: drop-shadow(0 0 8px var(--accent-primary));
    transform: scale(1.1);
    animation: heartbeat 0.8s infinite;
  }

  /* ==> Keyframes <== */
  @keyframes flicker-cross {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; text-shadow: 0 0 10px red; }
    20%, 24%, 55% { opacity: 0.5; text-shadow: none; }
  }

  @keyframes intense-shake {
    0%, 100% { transform: skewX(0); }
    50% { transform: skewX(10deg); color: red; }
  }

  @keyframes heartbeat {
    0% { transform: scale(1.1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1.1); }
  }

  /* ==> Responsive <== */
  @media (max-width: 768px) {
    .navbar-container { flex-direction: column; gap: 1.5rem; }
    .navbar-nav ul { gap: 1rem; flex-wrap: wrap; justify-content: center; }
    .navbar-nav a { font-size: 0.8rem; }
    .navbar-brand a::after { right: -20px; }
  }
</style>